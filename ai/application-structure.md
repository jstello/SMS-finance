# Application Structure Summary

This document outlines the structure of the Finanzas Personales Android application based on the contents of the `app` directory.

```
app/
├── .gradle/
├── .gitignore
├── build/
├── build.gradle.kts
├── google-services.json
├── proguard-rules.pro
└── src/
    └── main/
        ├── AndroidManifest.xml
        ├── ic_launcher-playstore.png
        ├── java/
        │   └── com/
        │       └── example/
        │           └── finanzaspersonales/
        │               ├── FinanzasApp.kt
        │               ├── data/
        │               │   ├── auth/
        │               │   │   ├── AuthRepository.kt
        │               │   │   └── AuthRepositoryImpl.kt
        │               │   ├── local/
        │               │   │   ├── SharedPrefsManager.kt
        │               │   │   └── SmsDataSource.kt
        │               │   ├── model/
        │               │   │   ├── AccountInfo.kt
        │               │   │   ├── Category.kt
        │               │   │   ├── SmsMessage.kt
        │               │   │   ├── TransactionData.kt
        │               │   │   └── rules/  (empty)
        │               │   ├── remote/ (empty)
        │               │   ├── repository/
        │               │   │   ├── CategoryRepository.kt
        │               │   │   ├── CategoryRepositoryImpl.kt
        │               │   │   ├── TransactionRepository.kt
        │               │   │   └── TransactionRepositoryImpl.kt
        │               │   └── sms/  <- Moved from root
        │               │       └── SmsReceiver.kt
        │               ├── domain/
        │               │   ├── usecase/
        │               │   │   ├── CategoryAssignmentUseCase.kt
        │               │   │   └── ExtractTransactionDataUseCase.kt
        │               │   └── util/
        │               │       ├── ContactsUtil.kt
        │               │       ├── DateTimeUtils.kt
        │               │       ├── StringUtils.kt
        │               │       └── TextExtractors.kt
        │               └── ui/
        │                   ├── accounts/ (empty)
        │                   ├── auth/
        │                   │   ├── AuthViewModel.kt
        │                   │   └── LoginScreen.kt
        │                   ├── categories/
        │                   │   ├── CategoriesActivity.kt <- Moved from root
        │                   │   ├── CategoriesScreen.kt
        │                   │   ├── CategoriesViewModel.kt
        │                   │   ├── CategoryDetailScreen.kt
        │                   │   ├── CategoryEditScreen.kt
        │                   │   └── TransactionDetailScreen.kt
        │                   ├── dashboard/
        │                   │   ├── DashboardActivity.kt
        │                   │   ├── DashboardViewModel.kt
        │                   │   └── DashboardViewModelFactory.kt
        │                   ├── sms/  <- New package for SMS UI
        │                   │   └── SmsPermissionActivity.kt
        │                   ├── theme/
        │                   │   ├── Color.kt
        │                   │   ├── Theme.kt
        │                   │   └── Type.kt
        │                   └── transaction_list/
        │                       ├── TransactionListActivity.kt
        │                       ├── TransactionListScreen.kt
        │                       ├── TransactionListViewModel.kt
        │                       └── TransactionListViewModelFactory.kt
        └── res/
            ├── drawable/
            ├── layout/
            ├── menu/
            ├── mipmap-anydpi-v26/
            ├── mipmap-hdpi/
            ├── mipmap-mdpi/
            ├── mipmap-xhdpi/
            ├── mipmap-xxhdpi/
            ├── mipmap-xxxhdpi/
            ├── raw/
            ├── values/
            └── xml/
```

## Top-Level Files and Directories (`app/`)

*   `build.gradle.kts`: The main build script for the application module, using Kotlin DSL. Defines dependencies, plugins, and build configurations.
*   `google-services.json`: Configuration file for integrating Firebase services.
*   `proguard-rules.pro`: Rules for ProGuard/R8, used for code shrinking and obfuscation.
*   `.gitignore`: Specifies intentionally untracked files that Git should ignore.
*   `src/`: Contains the application's source code and resources.
*   `build/`: Directory containing build outputs (generated by the build process).
*   `.gradle/`: Directory containing Gradle build system files and cache.

## Source Code (`app/src/main/`)

*   `AndroidManifest.xml`: The core manifest file describing essential information about the app to the Android system (permissions, components, features, etc.).
*   `java/`: Contains the Java/Kotlin source code.
    *   `com/example/finanzaspersonales/`: The main package for the application code.
        *   `data/`: Contains data source implementations (local, remote, SMS receiver), repositories, and data models.
        *   `domain/`: Contains business logic (use cases) and utility classes.
        *   `ui/`: Contains UI-related code (Activities, Composables, ViewModels, themes), organized by feature (accounts, auth, categories, dashboard, sms, transaction_list).
        *   `FinanzasApp.kt`: The custom `Application` class, used for application-level initialization.
*   `res/`: Contains application resources (drawables, layouts, menus, icons, values, XML).
*   `ic_launcher-playstore.png`: The high-resolution launcher icon for the Play Store listing.

## Summary

The project follows a standard Android structure with Gradle (Kotlin DSL) for building. It adopts a layered architecture (`data`, `domain`, `ui`) within the main package `com.example.finanzaspersonales`. 
Key structural improvements made:
*   SMS-related code (`SmsReceiver`, `SmsPermissionActivity`) moved into appropriate `data` and `ui` layers (`data/sms`, `ui/sms`).
*   `CategoriesActivity` moved into the `ui/categories` package.
*   Legacy/temporary files (`.py`, `.txt`) removed from the source set.
*   Empty top-level directories (`components`, `routes`) removed.
*   Documentation files (`.md`) previously in the source set are located in the `ai/` directory.

The structure is now cleaner and better adheres to layered architecture principles, improving modularity and maintainability. 